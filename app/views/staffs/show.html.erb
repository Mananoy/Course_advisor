<%= semantic_flash %>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"/>

<div class="five ui buttons">
  <button class="ui animated blue button" tabindex="0" style="padding: 0">
    <%= link_to '/system/staffs' do %>
      <div class="visible content" style="margin: 0; padding: 10px">
        Dashboard
      </div>
      <div class="hidden content">
        <i class="clipboard outline icon"></i>
      </div>
    <% end %>
  </button>

  <button class="ui animated blue button" tabindex="0" style="padding: 0">
    <%= link_to '/system/staffs/current_appointment' do %>
      <div class="visible content" style="margin: 0; padding: 10px">
        Current Appointments
      </div>
      <div class="hidden content">
        <i class="users icon"></i>
      </div>
    <% end %>
  </button>

  <button class="ui animated blue disabled button" tabindex="0" style="padding: 0">
    <%= link_to '/system/staffs/advice_history' do %>
      <div class="visible content" style="margin: 0; padding: 10px">
        Advice History
      </div>
      <div class="hidden content">
        <i class="clipboard list icon"></i>
      </div>
    <% end %>
  </button>

  <button class="ui vertical animated blue button" tabindex="0" style="padding: 0">
    <%= link_to '/system/staffs/help' do %>
      <div class="visible content" style="margin: 0; padding: 10px">
        Help
      </div>
      <div class="hidden content">
        <i class="question circle icon"></i>
      </div>
    <% end %>
  </button>

  <button class="ui animated fade red button" tabindex="0" style="padding: 0">
    <%= link_to '/system/logout' do %>
      <div class="visible content" style="margin: 0; padding: 10px">
        Logout
      </div>
      <div class="hidden content">
        <i class="sign-out icon"></i>
      </div>
    <% end %>
  </button>

</div>
<br/><br/><br/>

<div style="background-color: #DCE9F0; padding: 15px">
  <h2 class="ui center aligned icon header">Advice Details</h2>
  <h3 class="ui header">Student details</h3>
  <table class="ui definition selectable table">
    <thead>
    <tr>
      <th>Advice ID</th>
      <th>Date</th>
      <th>Name</th>
      <th>Residency</th>
      <th>Degree</th>
      <th>Current year</th>
      <th>Expected Completion</th>
      <% unless @english_exam.nil? %>
        <th>English Exam</th>
        <th>English Score</th>
      <% end %>
    </tr>
    </thead>

    <tbody>
      <tr>
        <td><%= @a_ID %></td>
        <td><%= @date %></td>
        <td><%= @name %> (<%= @s_ID %>) </td>
        <td><%= @residency %></td>
        <td><%= @plan %></td>
        <td><%= @s_year %></td>
        <td><%= @expected_completion %></td>
        <% unless @english_exam.nil? %>
          <td><% @english_exam %></td>
          <td><% @english_score %></td>
        <% end %>
      </tr>
    </tbody>

  </table>

  <table class="ui definition table">
    <thead>
    <tr>
      <th>My note to student</th>
    </tr>
    </thead>

    <tbody>
    <tr>
      <td><%= @note %></td>
    </tr>
    </tbody>

  </table>
</div>

<div style="background-color: #DCE9F0; padding: 15px">

  <h4 class="ui header">This advice given below was generated for Year <%= @year %>, <%= @teaching_period %> on <%= @date %>.</h4>

  <h3>Core Course(s)</h3>
  <% if @selected_core_courses.empty? %>
    <h4> No core courses available for this term.</h4>
  <% else %>
    <table class="ui definition selectable table">
      <thead>
      <tr>
        <th>Course ID</th>
        <th>Course Name</th>
        <th>Prerequisite</th>
        <th>Corequisite</th>
        <th>Assumed Knowledge</th>
        <th>Course Description</th>
        <th>Restriction</th>
        <th>Enrolment</th>
      </tr>
      </thead>

      <tbody>
      <% @selected_core_courses.each do |course| %>
          <tr>
            <td><%= course.course_ID %></td>
            <td><%= course.subject_area %> <%= course.catalogue %> <%= course.name %></td>
            <td><%= course.prerequisite %></td>
            <td><%= course.corequisite %></td>
            <td><%= course.assumed_knowledge %></td>
            <td><%= course.description %></td>
            <td><%= course.restriction %></td>
            <%track=0%>
            <% @enrolments.each do |enrolment| %>
              <% if enrolment.course_ID == course.course_ID %>
                <%track=1%>
              <%end%>
            <%end%>
            <% if track>0 %>
              <td><div style="color: green;">Yes</div></td>
            <%else %>
              <td><div style="color: red;">No</div></td>
            <%end%>
          </tr>
      <% end %>
      </tbody>
    </table>
  <% end %>
  <br/>

  <h3>Elective Course(s)</h3>
  <% if @selected_electives.empty? %>
    <h4> No electives available for this term.</h4>
  <% else %>
    <table class="ui definition selectable table">
      <thead>
      <tr>
        <th>Course ID</th>
        <th>Course Name</th>
        <th>Prerequisite</th>
        <th>Corequisite</th>
        <th>Assumed Knowledge</th>
        <th>Course Description</th>
        <th>Restriction</th>
      </tr>
      </thead>

      <tbody>
      <% @selected_electives.each do |course| %>
        <tr>
          <td><%= course.course_ID %></td>
          <td><%= course.subject_area %> <%= course.catalogue %> <%= course.name %></td>
          <td><%= course.prerequisite %></td>
          <td><%= course.corequisite %></td>
          <td><%= course.assumed_knowledge %></td>
          <td><%= course.description %></td>
          <td><%= course.restriction %></td>
        </tr>
      <% end %>
      </tbody>
    </table>
  <% end %>
  <br/>

</br>

<button class="ui animated blue button" tabindex="0" style="padding: 0">
  <%= link_to '/system/staffs/advice_history' do %>
    <div class="visible content" style="margin: 0; padding: 10px">
      Back
    </div>
    <div class="hidden content">
      <i class="chevron left icon"></i>
    </div>
  <% end %>
</button>
</div>